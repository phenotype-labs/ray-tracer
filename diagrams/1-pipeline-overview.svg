<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1256.17px; background-color: white;" viewBox="0 0 1256.171875 5423.765625" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="GPU" data-look="classic"><rect style="fill:#fff4e1 !important" x="8" y="776" width="1092.4375" height="4415.765625"/><g class="cluster-label" transform="translate(454.21875, 776)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>GPU Side (WGSL Compute Shader)</p></span></div></foreignObject></g></g><g class="cluster" id="CPU" data-look="classic"><rect style="fill:#e1f5ff !important" x="293.42578125" y="8" width="954.74609375" height="718"/><g class="cluster-label" transform="translate(715.509765625, 8)"><foreignObject width="110.578125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>CPU Side (Rust)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M652.316,951L652.316,955.167C652.316,959.333,652.316,967.667,652.316,975.333C652.316,983,652.316,990,652.316,993.5L652.316,997" id="L_Dispatch_RayGen_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Dispatch_RayGen_0" data-points="W3sieCI6NjUyLjMxNjQwNjI1LCJ5Ijo5NTF9LHsieCI6NjUyLjMxNjQwNjI1LCJ5Ijo5NzZ9LHsieCI6NjUyLjMxNjQwNjI1LCJ5IjoxMDAxfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M652.316,1223L652.316,1227.167C652.316,1231.333,652.316,1239.667,652.316,1247.333C652.316,1255,652.316,1262,652.316,1265.5L652.316,1269" id="L_RayGen_BounceLoop_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RayGen_BounceLoop_0" data-points="W3sieCI6NjUyLjMxNjQwNjI1LCJ5IjoxMjIzfSx7IngiOjY1Mi4zMTY0MDYyNSwieSI6MTI0OH0seyJ4Ijo2NTIuMzE2NDA2MjUsInkiOjEyNzN9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M594.937,1327L586.083,1331.167C577.228,1335.333,559.518,1343.667,550.663,1351.333C541.809,1359,541.809,1366,541.809,1369.5L541.809,1373" id="L_BounceLoop_MovingBoxPass_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BounceLoop_MovingBoxPass_0" data-points="W3sieCI6NTk0LjkzNzM0OTc1OTYxNTQsInkiOjEzMjd9LHsieCI6NTQxLjgwODU5Mzc1LCJ5IjoxMzUyfSx7IngiOjU0MS44MDg1OTM3NSwieSI6MTM3N31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M541.809,1527L541.809,1531.167C541.809,1535.333,541.809,1543.667,541.809,1551.333C541.809,1559,541.809,1566,541.809,1569.5L541.809,1573" id="L_MovingBoxPass_GridBounds_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MovingBoxPass_GridBounds_0" data-points="W3sieCI6NTQxLjgwODU5Mzc1LCJ5IjoxNTI3fSx7IngiOjU0MS44MDg1OTM3NSwieSI6MTU1Mn0seyJ4Ijo1NDEuODA4NTkzNzUsInkiOjE1Nzd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M541.809,1775L541.809,1779.167C541.809,1783.333,541.809,1791.667,541.809,1799.333C541.809,1807,541.809,1814,541.809,1817.5L541.809,1821" id="L_GridBounds_DDASetup_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_GridBounds_DDASetup_0" data-points="W3sieCI6NTQxLjgwODU5Mzc1LCJ5IjoxNzc1fSx7IngiOjU0MS44MDg1OTM3NSwieSI6MTgwMH0seyJ4Ijo1NDEuODA4NTkzNzUsInkiOjE4MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M541.809,2047L541.809,2051.167C541.809,2055.333,541.809,2063.667,541.809,2071.333C541.809,2079,541.809,2086,541.809,2089.5L541.809,2093" id="L_DDASetup_DDALoop_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DDASetup_DDALoop_0" data-points="W3sieCI6NTQxLjgwODU5Mzc1LCJ5IjoyMDQ3fSx7IngiOjU0MS44MDg1OTM3NSwieSI6MjA3Mn0seyJ4Ijo1NDEuODA4NTkzNzUsInkiOjIwOTd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M485.844,2175L479.865,2179.167C473.885,2183.333,461.927,2191.667,455.948,2199.333C449.969,2207,449.969,2214,449.969,2217.5L449.969,2221" id="L_DDALoop_CellTest_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DDALoop_CellTest_0" data-points="W3sieCI6NDg1Ljg0MzY4ODk2NDg0Mzc1LCJ5IjoyMTc1fSx7IngiOjQ0OS45Njg3NSwieSI6MjIwMH0seyJ4Ijo0NDkuOTY4NzUsInkiOjIyMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M449.969,2351L449.969,2355.167C449.969,2359.333,449.969,2367.667,449.969,2375.333C449.969,2383,449.969,2390,449.969,2393.5L449.969,2397" id="L_CellTest_ObjectLoop_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CellTest_ObjectLoop_0" data-points="W3sieCI6NDQ5Ljk2ODc1LCJ5IjoyMzUxfSx7IngiOjQ0OS45Njg3NSwieSI6MjM3Nn0seyJ4Ijo0NDkuOTY4NzUsInkiOjI0MDF9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M449.969,2455L449.969,2459.167C449.969,2463.333,449.969,2471.667,449.969,2479.333C449.969,2487,449.969,2494,449.969,2497.5L449.969,2501" id="L_ObjectLoop_ObjType_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ObjectLoop_ObjType_0" data-points="W3sieCI6NDQ5Ljk2ODc1LCJ5IjoyNDU1fSx7IngiOjQ0OS45Njg3NSwieSI6MjQ4MH0seyJ4Ijo0NDkuOTY4NzUsInkiOjI1MDV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M398.248,2656.295L382.887,2671.082C367.526,2685.869,336.804,2715.442,321.443,2737.729C306.082,2760.016,306.082,2775.016,306.082,2782.516L306.082,2790.016" id="L_ObjType_IntersectBox_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ObjType_IntersectBox_0" data-points="W3sieCI6Mzk4LjI0ODEwOTM2NDg0MTcsInkiOjI2NTYuMjk0OTg0MzY0ODQxNn0seyJ4IjozMDYuMDgyMDMxMjUsInkiOjI3NDUuMDE1NjI1fSx7IngiOjMwNi4wODIwMzEyNSwieSI6Mjc5NC4wMTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M501.689,2656.295L517.05,2671.082C532.411,2685.869,563.133,2715.442,578.494,2735.729C593.855,2756.016,593.855,2767.016,593.855,2772.516L593.855,2778.016" id="L_ObjType_IntersectTriangle_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ObjType_IntersectTriangle_0" data-points="W3sieCI6NTAxLjY4OTM5MDYzNTE1ODMsInkiOjI2NTYuMjk0OTg0MzY0ODQxNn0seyJ4Ijo1OTMuODU1NDY4NzUsInkiOjI3NDUuMDE1NjI1fSx7IngiOjU5My44NTU0Njg3NSwieSI6Mjc4Mi4wMTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M306.082,2920.016L306.082,2926.182C306.082,2932.349,306.082,2944.682,316.984,2954.789C327.887,2964.896,349.692,2972.776,360.594,2976.716L371.496,2980.656" id="L_IntersectBox_KeepClosest_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IntersectBox_KeepClosest_0" data-points="W3sieCI6MzA2LjA4MjAzMTI1LCJ5IjoyOTIwLjAxNTYyNX0seyJ4IjozMDYuMDgyMDMxMjUsInkiOjI5NTcuMDE1NjI1fSx7IngiOjM3NS4yNTgzMzgzNDEzNDYyLCJ5IjoyOTgyLjAxNTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M593.855,2932.016L593.855,2936.182C593.855,2940.349,593.855,2948.682,582.953,2956.789C572.051,2964.896,550.246,2972.776,539.343,2976.716L528.441,2980.656" id="L_IntersectTriangle_KeepClosest_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IntersectTriangle_KeepClosest_0" data-points="W3sieCI6NTkzLjg1NTQ2ODc1LCJ5IjoyOTMyLjAxNTYyNX0seyJ4Ijo1OTMuODU1NDY4NzUsInkiOjI5NTcuMDE1NjI1fSx7IngiOjUyNC42NzkxNjE2NTg2NTM4LCJ5IjoyOTgyLjAxNTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M449.969,3036.016L449.969,3040.182C449.969,3044.349,449.969,3052.682,449.969,3060.349C449.969,3068.016,449.969,3075.016,449.969,3078.516L449.969,3082.016" id="L_KeepClosest_EarlyExit_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_KeepClosest_EarlyExit_0" data-points="W3sieCI6NDQ5Ljk2ODc1LCJ5IjozMDM2LjAxNTYyNX0seyJ4Ijo0NDkuOTY4NzUsInkiOjMwNjEuMDE1NjI1fSx7IngiOjQ0OS45Njg3NSwieSI6MzA4Ni4wMTU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M394.61,3207.485L368.83,3222.878C343.05,3238.271,291.49,3269.057,265.71,3307.117C239.93,3345.177,239.93,3390.51,239.93,3435.844C239.93,3481.177,239.93,3526.51,239.93,3568.755C239.93,3611,239.93,3650.156,239.93,3689.313C239.93,3728.469,239.93,3767.625,277.695,3795.21C315.46,3822.794,390.99,3838.807,428.755,3846.813L466.521,3854.82" id="L_EarlyExit_Shading_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EarlyExit_Shading_0" data-points="W3sieCI6Mzk0LjYwOTU3OTMyODA0Mjc0LCJ5IjozMjA3LjQ4NDU3OTMyODA0M30seyJ4IjoyMzkuOTI5Njg3NSwieSI6MzI5OS44NDM3NX0seyJ4IjoyMzkuOTI5Njg3NSwieSI6MzQzNS44NDM3NX0seyJ4IjoyMzkuOTI5Njg3NSwieSI6MzU3MS44NDM3NX0seyJ4IjoyMzkuOTI5Njg3NSwieSI6MzY4OS4zMTI1fSx7IngiOjIzOS45Mjk2ODc1LCJ5IjozODA2Ljc4MTI1fSx7IngiOjQ3MC40MzM1OTM3NSwieSI6Mzg1NS42NDkzNTQ3MDg3OX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M496.466,3216.346L511.904,3230.262C527.341,3244.179,558.215,3272.011,573.653,3291.427C589.09,3310.844,589.09,3321.844,589.09,3327.344L589.09,3332.844" id="L_EarlyExit_StepCell_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_EarlyExit_StepCell_0" data-points="W3sieCI6NDk2LjQ2NjM5MjMyNTY4MTg1LCJ5IjozMjE2LjM0NjEwNzY3NDMxODN9LHsieCI6NTg5LjA4OTg0Mzc1LCJ5IjozMjk5Ljg0Mzc1fSx7IngiOjU4OS4wODk4NDM3NSwieSI6MzMzNi44NDM3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M589.09,3534.844L589.09,3541.01C589.09,3547.177,589.09,3559.51,600.55,3577.859C612.01,3596.208,634.931,3620.572,646.391,3632.754L657.851,3644.936" id="L_StepCell_BoundsCheck_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_StepCell_BoundsCheck_0" data-points="W3sieCI6NTg5LjA4OTg0Mzc1LCJ5IjozNTM0Ljg0Mzc1fSx7IngiOjU4OS4wODk4NDM3NSwieSI6MzU3MS44NDM3NX0seyJ4Ijo2NjAuNTkxNzgwMjA5MDgyOSwieSI6MzY0Ny44NDk2MjYwNDA5MTd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M732.796,3642.042L741.013,3630.343C749.23,3618.643,765.664,3595.243,773.881,3560.877C782.098,3526.51,782.098,3481.177,782.098,3435.844C782.098,3390.51,782.098,3345.177,782.098,3301.608C782.098,3258.039,782.098,3216.234,782.098,3176.43C782.098,3136.625,782.098,3098.82,782.098,3071.251C782.098,3043.682,782.098,3026.349,782.098,3009.016C782.098,2991.682,782.098,2974.349,782.098,2949.016C782.098,2923.682,782.098,2890.349,782.098,2855.016C782.098,2819.682,782.098,2782.349,782.098,2740.598C782.098,2698.846,782.098,2652.677,782.098,2608.508C782.098,2564.339,782.098,2522.169,782.098,2492.418C782.098,2462.667,782.098,2445.333,782.098,2428C782.098,2410.667,782.098,2393.333,782.098,2370C782.098,2346.667,782.098,2317.333,782.098,2288C782.098,2258.667,782.098,2229.333,764.36,2209.942C746.623,2190.551,711.148,2181.103,693.411,2176.379L675.674,2171.654" id="L_BoundsCheck_DDALoop_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BoundsCheck_DDALoop_0" data-points="W3sieCI6NzMyLjc5NjIwMjg5NzkxMzgsInkiOjM2NDIuMDQyMjk2NjQ3OTEzNn0seyJ4Ijo3ODIuMDk3NjU2MjUsInkiOjM1NzEuODQzNzV9LHsieCI6NzgyLjA5NzY1NjI1LCJ5IjozNDM1Ljg0Mzc1fSx7IngiOjc4Mi4wOTc2NTYyNSwieSI6MzI5OS44NDM3NX0seyJ4Ijo3ODIuMDk3NjU2MjUsInkiOjMxNzQuNDI5Njg3NX0seyJ4Ijo3ODIuMDk3NjU2MjUsInkiOjMwNjEuMDE1NjI1fSx7IngiOjc4Mi4wOTc2NTYyNSwieSI6MzAwOS4wMTU2MjV9LHsieCI6NzgyLjA5NzY1NjI1LCJ5IjoyOTU3LjAxNTYyNX0seyJ4Ijo3ODIuMDk3NjU2MjUsInkiOjI4NTcuMDE1NjI1fSx7IngiOjc4Mi4wOTc2NTYyNSwieSI6Mjc0NS4wMTU2MjV9LHsieCI6NzgyLjA5NzY1NjI1LCJ5IjoyNjA2LjUwNzgxMjV9LHsieCI6NzgyLjA5NzY1NjI1LCJ5IjoyNDgwfSx7IngiOjc4Mi4wOTc2NTYyNSwieSI6MjQyOH0seyJ4Ijo3ODIuMDk3NjU2MjUsInkiOjIzNzZ9LHsieCI6NzgyLjA5NzY1NjI1LCJ5IjoyMjg4fSx7IngiOjc4Mi4wOTc2NTYyNSwieSI6MjIwMH0seyJ4Ijo2NzEuODA4NTkzNzUsInkiOjIxNzAuNjI0OTYzNDIyOTYwN31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M699.598,3769.781L699.598,3775.948C699.598,3782.115,699.598,3794.448,685.012,3806.531C670.426,3818.613,641.254,3830.446,626.668,3836.362L612.083,3842.278" id="L_BoundsCheck_Shading_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BoundsCheck_Shading_0" data-points="W3sieCI6Njk5LjU5NzY1NjI1LCJ5IjozNzY5Ljc4MTI1fSx7IngiOjY5OS41OTc2NTYyNSwieSI6MzgwNi43ODEyNX0seyJ4Ijo2MDguMzc1ODU0NDkyMTg3NSwieSI6Mzg0My43ODEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M470.434,3880.28L417.208,3887.364C363.983,3894.447,257.533,3908.614,204.307,3928.364C151.082,3948.115,151.082,3973.448,151.082,3998.781C151.082,4024.115,151.082,4049.448,151.082,4078.781C151.082,4108.115,151.082,4141.448,151.082,4174.781C151.082,4208.115,151.082,4241.448,151.082,4271.615C151.082,4301.781,151.082,4328.781,151.082,4342.281L151.082,4355.781" id="L_Shading_Ambient_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Shading_Ambient_0" data-points="W3sieCI6NDcwLjQzMzU5Mzc1LCJ5IjozODgwLjI4MDIyMDI2NzczMDN9LHsieCI6MTUxLjA4MjAzMTI1LCJ5IjozOTIyLjc4MTI1fSx7IngiOjE1MS4wODIwMzEyNSwieSI6Mzk5OC43ODEyNX0seyJ4IjoxNTEuMDgyMDMxMjUsInkiOjQwNzQuNzgxMjV9LHsieCI6MTUxLjA4MjAzMTI1LCJ5Ijo0MTc0Ljc4MTI1fSx7IngiOjE1MS4wODIwMzEyNSwieSI6NDI3NC43ODEyNX0seyJ4IjoxNTEuMDgyMDMxMjUsInkiOjQzNTkuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M536.959,3897.781L536.211,3901.948C535.462,3906.115,533.966,3914.448,533.217,3931.281C532.469,3948.115,532.469,3973.448,532.469,3998.781C532.469,4024.115,532.469,4049.448,532.469,4078.781C532.469,4108.115,532.469,4141.448,532.469,4174.781C532.469,4208.115,532.469,4241.448,532.469,4265.615C532.469,4289.781,532.469,4304.781,532.469,4312.281L532.469,4319.781" id="L_Shading_Diffuse_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Shading_Diffuse_0" data-points="W3sieCI6NTM2Ljk1OTA1OTQ5NTE5MjMsInkiOjM4OTcuNzgxMjV9LHsieCI6NTMyLjQ2ODc1LCJ5IjozOTIyLjc4MTI1fSx7IngiOjUzMi40Njg3NSwieSI6Mzk5OC43ODEyNX0seyJ4Ijo1MzIuNDY4NzUsInkiOjQwNzQuNzgxMjV9LHsieCI6NTMyLjQ2ODc1LCJ5Ijo0MTc0Ljc4MTI1fSx7IngiOjUzMi40Njg3NSwieSI6NDI3NC43ODEyNX0seyJ4Ijo1MzIuNDY4NzUsInkiOjQzMjMuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M613.184,3883.107L651.476,3889.719C689.768,3896.331,766.353,3909.556,804.645,3919.669C842.938,3929.781,842.938,3936.781,842.938,3940.281L842.938,3943.781" id="L_Shading_Emissive_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Shading_Emissive_0" data-points="W3sieCI6NjEzLjE4MzU5Mzc1LCJ5IjozODgzLjEwNjUzNjM1NzMyN30seyJ4Ijo4NDIuOTM3NSwieSI6MzkyMi43ODEyNX0seyJ4Ijo4NDIuOTM3NSwieSI6Mzk0Ny43ODEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M842.938,4049.781L842.938,4053.948C842.938,4058.115,842.938,4066.448,842.938,4074.115C842.938,4081.781,842.938,4088.781,842.938,4092.281L842.938,4095.781" id="L_Emissive_ShadowRay_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Emissive_ShadowRay_0" data-points="W3sieCI6ODQyLjkzNzUsInkiOjQwNDkuNzgxMjV9LHsieCI6ODQyLjkzNzUsInkiOjQwNzQuNzgxMjV9LHsieCI6ODQyLjkzNzUsInkiOjQwOTkuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M842.938,4249.781L842.938,4253.948C842.938,4258.115,842.938,4266.448,842.938,4274.115C842.938,4281.781,842.938,4288.781,842.938,4292.281L842.938,4295.781" id="L_ShadowRay_AreaLight_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ShadowRay_AreaLight_0" data-points="W3sieCI6ODQyLjkzNzUsInkiOjQyNDkuNzgxMjV9LHsieCI6ODQyLjkzNzUsInkiOjQyNzQuNzgxMjV9LHsieCI6ODQyLjkzNzUsInkiOjQyOTkuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M151.082,4413.781L151.082,4427.948C151.082,4442.115,151.082,4470.448,194.431,4498.261C237.78,4526.073,324.479,4553.365,367.828,4567.011L411.177,4580.657" id="L_Ambient_FinalColor_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Ambient_FinalColor_0" data-points="W3sieCI6MTUxLjA4MjAzMTI1LCJ5Ijo0NDEzLjc4MTI1fSx7IngiOjE1MS4wODIwMzEyNSwieSI6NDQ5OC43ODEyNX0seyJ4Ijo0MTQuOTkyMTg3NSwieSI6NDU4MS44NTgyMTI3NDMzMjh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M532.469,4449.781L532.469,4457.948C532.469,4466.115,532.469,4482.448,532.823,4494.118C533.176,4505.788,533.884,4512.795,534.238,4516.298L534.592,4519.801" id="L_Diffuse_FinalColor_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Diffuse_FinalColor_0" data-points="W3sieCI6NTMyLjQ2ODc1LCJ5Ijo0NDQ5Ljc4MTI1fSx7IngiOjUzMi40Njg3NSwieSI6NDQ5OC43ODEyNX0seyJ4Ijo1MzQuOTkzNjM2NTkyNzQyLCJ5Ijo0NTIzLjc4MTI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M842.938,4473.781L842.938,4477.948C842.938,4482.115,842.938,4490.448,815.562,4506.008C788.187,4521.568,733.436,4544.354,706.061,4555.747L678.685,4567.14" id="L_AreaLight_FinalColor_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_AreaLight_FinalColor_0" data-points="W3sieCI6ODQyLjkzNzUsInkiOjQ0NzMuNzgxMjV9LHsieCI6ODQyLjkzNzUsInkiOjQ0OTguNzgxMjV9LHsieCI6Njc0Ljk5MjE4NzUsInkiOjQ1NjguNjc3MzYxMzg3ODkxfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M544.992,4721.781L544.992,4725.948C544.992,4730.115,544.992,4738.448,544.992,4746.115C544.992,4753.781,544.992,4760.781,544.992,4764.281L544.992,4767.781" id="L_FinalColor_ReflectCheck_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_FinalColor_ReflectCheck_0" data-points="W3sieCI6NTQ0Ljk5MjE4NzUsInkiOjQ3MjEuNzgxMjV9LHsieCI6NTQ0Ljk5MjE4NzUsInkiOjQ3NDYuNzgxMjV9LHsieCI6NTQ0Ljk5MjE4NzUsInkiOjQ3NzEuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M480.93,4878.703L430.577,4895.547C380.224,4912.391,279.518,4946.078,229.165,4970.422C178.813,4994.766,178.813,5009.766,178.813,5017.266L178.813,5024.766" id="L_ReflectCheck_Output_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ReflectCheck_Output_0" data-points="W3sieCI6NDgwLjkyOTc2ODMxMDM1MTczLCJ5Ijo0ODc4LjcwMzIwNTgxMDM1MX0seyJ4IjoxNzguODEyNSwieSI6NDk3OS43NjU2MjV9LHsieCI6MTc4LjgxMjUsInkiOjUwMjguNzY1NjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M606.155,4881.602L647.286,4897.963C688.416,4914.324,770.677,4947.045,815.954,4969.035C861.232,4991.025,869.526,5002.285,873.673,5007.915L877.82,5013.545" id="L_ReflectCheck_NextBounce_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ReflectCheck_NextBounce_0" data-points="W3sieCI6NjA2LjE1NTM0OTE1NzYwNjcsInkiOjQ4ODEuNjAyNDYzMzQyMzkzfSx7IngiOjg1Mi45Mzc1LCJ5Ijo0OTc5Ljc2NTYyNX0seyJ4Ijo4ODAuMTkxOTY0Mjg1NzE0MywieSI6NTAxNi43NjU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M983.987,5016.766L987.978,5010.599C991.97,5004.432,999.954,4992.099,1003.946,4965.517C1007.938,4938.935,1007.938,4898.104,1007.938,4859.273C1007.938,4820.443,1007.938,4783.612,1007.938,4744.53C1007.938,4705.448,1007.938,4664.115,1007.938,4622.781C1007.938,4581.448,1007.938,4540.115,1007.938,4500.781C1007.938,4461.448,1007.938,4424.115,1007.938,4386.781C1007.938,4349.448,1007.938,4312.115,1007.938,4276.781C1007.938,4241.448,1007.938,4208.115,1007.938,4174.781C1007.938,4141.448,1007.938,4108.115,1007.938,4078.781C1007.938,4049.448,1007.938,4024.115,1007.938,3998.781C1007.938,3973.448,1007.938,3948.115,1007.938,3926.781C1007.938,3905.448,1007.938,3888.115,1007.938,3868.781C1007.938,3849.448,1007.938,3828.115,1007.938,3797.87C1007.938,3767.625,1007.938,3728.469,1007.938,3689.313C1007.938,3650.156,1007.938,3611,1007.938,3568.755C1007.938,3526.51,1007.938,3481.177,1007.938,3435.844C1007.938,3390.51,1007.938,3345.177,1007.938,3301.608C1007.938,3258.039,1007.938,3216.234,1007.938,3176.43C1007.938,3136.625,1007.938,3098.82,1007.938,3071.251C1007.938,3043.682,1007.938,3026.349,1007.938,3009.016C1007.938,2991.682,1007.938,2974.349,1007.938,2949.016C1007.938,2923.682,1007.938,2890.349,1007.938,2855.016C1007.938,2819.682,1007.938,2782.349,1007.938,2740.598C1007.938,2698.846,1007.938,2652.677,1007.938,2608.508C1007.938,2564.339,1007.938,2522.169,1007.938,2492.418C1007.938,2462.667,1007.938,2445.333,1007.938,2428C1007.938,2410.667,1007.938,2393.333,1007.938,2370C1007.938,2346.667,1007.938,2317.333,1007.938,2288C1007.938,2258.667,1007.938,2229.333,1007.938,2204C1007.938,2178.667,1007.938,2157.333,1007.938,2136C1007.938,2114.667,1007.938,2093.333,1007.938,2060C1007.938,2026.667,1007.938,1981.333,1007.938,1936C1007.938,1890.667,1007.938,1845.333,1007.938,1802C1007.938,1758.667,1007.938,1717.333,1007.938,1676C1007.938,1634.667,1007.938,1593.333,1007.938,1556C1007.938,1518.667,1007.938,1485.333,1007.938,1452C1007.938,1418.667,1007.938,1385.333,966.849,1362.659C925.761,1339.984,843.584,1327.968,802.496,1321.96L761.407,1315.952" id="L_NextBounce_BounceLoop_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_NextBounce_BounceLoop_0" data-points="W3sieCI6OTgzLjk4NjYwNzE0Mjg1NzEsInkiOjUwMTYuNzY1NjI1fSx7IngiOjEwMDcuOTM3NSwieSI6NDk3OS43NjU2MjV9LHsieCI6MTAwNy45Mzc1LCJ5Ijo0ODU3LjI3MzQzNzV9LHsieCI6MTAwNy45Mzc1LCJ5Ijo0NzQ2Ljc4MTI1fSx7IngiOjEwMDcuOTM3NSwieSI6NDYyMi43ODEyNX0seyJ4IjoxMDA3LjkzNzUsInkiOjQ0OTguNzgxMjV9LHsieCI6MTAwNy45Mzc1LCJ5Ijo0Mzg2Ljc4MTI1fSx7IngiOjEwMDcuOTM3NSwieSI6NDI3NC43ODEyNX0seyJ4IjoxMDA3LjkzNzUsInkiOjQxNzQuNzgxMjV9LHsieCI6MTAwNy45Mzc1LCJ5Ijo0MDc0Ljc4MTI1fSx7IngiOjEwMDcuOTM3NSwieSI6Mzk5OC43ODEyNX0seyJ4IjoxMDA3LjkzNzUsInkiOjM5MjIuNzgxMjV9LHsieCI6MTAwNy45Mzc1LCJ5IjozODcwLjc4MTI1fSx7IngiOjEwMDcuOTM3NSwieSI6MzgwNi43ODEyNX0seyJ4IjoxMDA3LjkzNzUsInkiOjM2ODkuMzEyNX0seyJ4IjoxMDA3LjkzNzUsInkiOjM1NzEuODQzNzV9LHsieCI6MTAwNy45Mzc1LCJ5IjozNDM1Ljg0Mzc1fSx7IngiOjEwMDcuOTM3NSwieSI6MzI5OS44NDM3NX0seyJ4IjoxMDA3LjkzNzUsInkiOjMxNzQuNDI5Njg3NX0seyJ4IjoxMDA3LjkzNzUsInkiOjMwNjEuMDE1NjI1fSx7IngiOjEwMDcuOTM3NSwieSI6MzAwOS4wMTU2MjV9LHsieCI6MTAwNy45Mzc1LCJ5IjoyOTU3LjAxNTYyNX0seyJ4IjoxMDA3LjkzNzUsInkiOjI4NTcuMDE1NjI1fSx7IngiOjEwMDcuOTM3NSwieSI6Mjc0NS4wMTU2MjV9LHsieCI6MTAwNy45Mzc1LCJ5IjoyNjA2LjUwNzgxMjV9LHsieCI6MTAwNy45Mzc1LCJ5IjoyNDgwfSx7IngiOjEwMDcuOTM3NSwieSI6MjQyOH0seyJ4IjoxMDA3LjkzNzUsInkiOjIzNzZ9LHsieCI6MTAwNy45Mzc1LCJ5IjoyMjg4fSx7IngiOjEwMDcuOTM3NSwieSI6MjIwMH0seyJ4IjoxMDA3LjkzNzUsInkiOjIxMzZ9LHsieCI6MTAwNy45Mzc1LCJ5IjoyMDcyfSx7IngiOjEwMDcuOTM3NSwieSI6MTkzNn0seyJ4IjoxMDA3LjkzNzUsInkiOjE4MDB9LHsieCI6MTAwNy45Mzc1LCJ5IjoxNjc2fSx7IngiOjEwMDcuOTM3NSwieSI6MTU1Mn0seyJ4IjoxMDA3LjkzNzUsInkiOjE0NTJ9LHsieCI6MTAwNy45Mzc1LCJ5IjoxMzUyfSx7IngiOjc1Ny40NDkyMTg3NSwieSI6MTMxNS4zNzI4NDAyMTEzMzh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M178.813,5154.766L178.813,5160.932C178.813,5167.099,178.813,5179.432,178.813,5189.766C178.813,5200.099,178.813,5208.432,178.813,5216.099C178.813,5223.766,178.813,5230.766,178.813,5234.266L178.813,5237.766" id="L_Output_Display_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Output_Display_0" data-points="W3sieCI6MTc4LjgxMjUsInkiOjUxNTQuNzY1NjI1fSx7IngiOjE3OC44MTI1LCJ5Ijo1MTkxLjc2NTYyNX0seyJ4IjoxNzguODEyNSwieSI6NTIxNi43NjU2MjV9LHsieCI6MTc4LjgxMjUsInkiOjUyNDEuNzY1NjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M470.887,171L470.887,177.167C470.887,183.333,470.887,195.667,473.423,205.454C475.959,215.241,481.032,222.483,483.568,226.103L486.104,229.724" id="L_Camera_BufferUpload_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Camera_BufferUpload_0" data-points="W3sieCI6NDcwLjg4NjcxODc1LCJ5IjoxNzF9LHsieCI6NDcwLjg4NjcxODc1LCJ5IjoyMDh9LHsieCI6NDg4LjM5OTIzNjg0ODQ1NTYsInkiOjIzM31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M768.309,183L768.309,187.167C768.309,191.333,768.309,199.667,766.715,207.392C765.122,215.116,761.934,222.233,760.341,225.791L758.747,229.349" id="L_GridBuilder_BufferUpload_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_GridBuilder_BufferUpload_0" data-points="W3sieCI6NzY4LjMwODU5Mzc1LCJ5IjoxODN9LHsieCI6NzY4LjMwODU5Mzc1LCJ5IjoyMDh9LHsieCI6NzU3LjExMjQzNjY1NTQwNTQsInkiOjIzM31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1069.051,171L1069.051,177.167C1069.051,183.333,1069.051,195.667,1028.078,227.298C987.105,258.929,905.159,309.858,864.187,335.323L823.214,360.787" id="L_GLTFLoader_BufferUpload_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_GLTFLoader_BufferUpload_0" data-points="W3sieCI6MTA2OS4wNTA3ODEyNSwieSI6MTcxfSx7IngiOjEwNjkuMDUwNzgxMjUsInkiOjIwOH0seyJ4Ijo4MTkuODE2NDA2MjUsInkiOjM2Mi44OTg5MTY0MjYwODA3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M652.316,701L652.316,705.167C652.316,709.333,652.316,717.667,652.316,726C652.316,734.333,652.316,742.667,652.316,751C652.316,759.333,652.316,767.667,652.316,775.333C652.316,783,652.316,790,652.316,793.5L652.316,797" id="L_BufferUpload_Dispatch_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_BufferUpload_Dispatch_0" data-points="W3sieCI6NjUyLjMxNjQwNjI1LCJ5Ijo3MDF9LHsieCI6NjUyLjMxNjQwNjI1LCJ5Ijo3MjZ9LHsieCI6NjUyLjMxNjQwNjI1LCJ5Ijo3NTF9LHsieCI6NjUyLjMxNjQwNjI1LCJ5Ijo3NzZ9LHsieCI6NjUyLjMxNjQwNjI1LCJ5Ijo4MDF9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Dispatch_RayGen_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_RayGen_BounceLoop_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_BounceLoop_MovingBoxPass_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_MovingBoxPass_GridBounds_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_GridBounds_DDASetup_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_DDASetup_DDALoop_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_DDALoop_CellTest_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_CellTest_ObjectLoop_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_ObjectLoop_ObjType_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(306.08203125, 2745.015625)"><g class="label" data-id="L_ObjType_IntersectBox_0" transform="translate(-12.6953125, -12)"><foreignObject width="25.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(593.85546875, 2745.015625)"><g class="label" data-id="L_ObjType_IntersectTriangle_0" transform="translate(-10.5, -12)"><foreignObject width="21" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_IntersectBox_KeepClosest_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_IntersectTriangle_KeepClosest_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_KeepClosest_EarlyExit_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(239.9296875, 3571.84375)"><g class="label" data-id="L_EarlyExit_Shading_0" transform="translate(-12.6953125, -12)"><foreignObject width="25.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(589.08984375, 3299.84375)"><g class="label" data-id="L_EarlyExit_StepCell_0" transform="translate(-10.5, -12)"><foreignObject width="21" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_StepCell_BoundsCheck_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(782.09765625, 2857.015625)"><g class="label" data-id="L_BoundsCheck_DDALoop_0" transform="translate(-12.6953125, -12)"><foreignObject width="25.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(699.59765625, 3806.78125)"><g class="label" data-id="L_BoundsCheck_Shading_0" transform="translate(-10.5, -12)"><foreignObject width="21" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Shading_Ambient_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Shading_Diffuse_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Shading_Emissive_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Emissive_ShadowRay_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_ShadowRay_AreaLight_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Ambient_FinalColor_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Diffuse_FinalColor_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_AreaLight_FinalColor_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_FinalColor_ReflectCheck_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(178.8125, 4979.765625)"><g class="label" data-id="L_ReflectCheck_Output_0" transform="translate(-12.6953125, -12)"><foreignObject width="25.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>YES</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(750.89657, 4939.17655)"><g class="label" data-id="L_ReflectCheck_NextBounce_0" transform="translate(-10.5, -12)"><foreignObject width="21" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>NO</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_NextBounce_BounceLoop_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Output_Display_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Camera_BufferUpload_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_GridBuilder_BufferUpload_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_GLTFLoader_BufferUpload_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_BufferUpload_Dispatch_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(476.81640625, 225)"><g class="clusters"><g class="cluster" id="BufferUpload" data-look="classic"><rect style="fill:#f0f0f0 !important" x="8" y="8" width="335" height="468"/><g class="cluster-label" transform="translate(108.375, 8)"><foreignObject width="134.25" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>GPU Buffer Upload</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default" id="flowchart-PerFrame-9" transform="translate(175.5, 106)"><rect class="basic label-container" style="" x="-107.8125" y="-63" width="215.625" height="126"/><g class="label" style="" transform="translate(-77.8125, -48)"><rect/><foreignObject width="155.625" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Per-Frame Uniforms<br />• Camera (96B)<br />• Scene Config (16B)<br />• Debug Params (16B)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Static-10" transform="translate(175.5, 330)"><rect class="basic label-container" style="" x="-130" y="-111" width="260" height="222"/><g class="label" style="" transform="translate(-100, -96)"><rect/><foreignObject width="200" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Static Buffers (Once)<br />• Grid Metadata (96B)<br />• Coarse Grid (u8 counts)<br />• Fine Grid (32KB/cell!)<br />• Boxes/Triangles (geometry)<br />• Materials (PBR data)<br />• Texture Array (2D array)</p></span></div></foreignObject></g></g></g></g><g class="node default" id="flowchart-Camera-0" transform="translate(470.88671875, 108)"><rect class="basic label-container" style="" x="-117.421875" y="-63" width="234.84375" height="126"/><g class="label" style="" transform="translate(-87.421875, -48)"><rect/><foreignObject width="174.84375" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Camera (camera.rs)<br />- Position: Vec3<br />- Yaw/Pitch<br />- Calculate basis vectors</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-GridBuilder-1" transform="translate(768.30859375, 108)"><rect class="basic label-container" style="" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Grid Builder (grid.rs)<br />- 4 hierarchical levels<br />- Cell sizes: 128→64→32→16<br />- Insert objects into cells</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-GLTFLoader-2" transform="translate(1069.05078125, 108)"><rect class="basic label-container" style="" x="-120.7421875" y="-63" width="241.484375" height="126"/><g class="label" style="" transform="translate(-90.7421875, -48)"><rect/><foreignObject width="181.484375" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>glTF Loader<br />- Parse meshes/materials<br />- Extract textures<br />- Build triangle buffer</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Dispatch-12" transform="translate(652.31640625, 876)"><rect class="basic label-container" style="" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Compute Dispatch<br />workgroups: (width/8, height/8, 1)<br />8x8 threads per workgroup<br />1 thread = 1 pixel</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-RayGen-14" transform="translate(652.31640625, 1112)"><rect class="basic label-container" style="" x="-130" y="-111" width="260" height="222"/><g class="label" style="" transform="translate(-100, -96)"><rect/><foreignObject width="200" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Stage 1: Ray Generation<br />pixel → UV → NDC<br />ray.dir = camera.forward +<br />  camera.right * ndc.x * aspect * fov +<br />  camera.up * -ndc.y * fov<br />ray.origin = camera.position</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-BounceLoop-17" transform="translate(652.31640625, 1300)"><rect class="basic label-container" style="fill:#ffccff !important" x="-105.1328125" y="-27" width="210.265625" height="54"/><g class="label" style="" transform="translate(-75.1328125, -12)"><rect/><foreignObject width="150.265625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Bounce Loop (MAX 8)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-MovingBoxPass-19" transform="translate(541.80859375, 1452)"><rect class="basic label-container" style="" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>2A: Moving Box Pre-Pass<br />Brute force test last 3 boxes<br />Interpolate: mix(center0, center1, sin(time))</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-GridBounds-21" transform="translate(541.80859375, 1676)"><rect class="basic label-container" style="" x="-130" y="-99" width="260" height="198"/><g class="label" style="" transform="translate(-100, -84)"><rect/><foreignObject width="200" height="168"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>2B: Grid Bounds Check<br />ray inside grid?<br />NO → intersect_aabb(grid)<br />  miss → SKY<br />  hit → entry_point<br />YES → entry_point = ray.origin</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DDASetup-23" transform="translate(541.80859375, 1936)"><rect class="basic label-container" style="" x="-130" y="-111" width="260" height="222"/><g class="label" style="" transform="translate(-100, -96)"><rect/><foreignObject width="200" height="192"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>2C: DDA Setup<br />current_cell = world_to_grid(entry)<br />step = sign(ray.direction)<br />t_delta = abs(cell_size / ray.dir)<br />t_max = (boundary - ray_pos) / ray.dir</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-DDALoop-25" transform="translate(541.80859375, 2136)"><rect class="basic label-container" style="fill:#ccffcc !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>2D: DDA Traversal Loop (max 200)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-CellTest-27" transform="translate(449.96875, 2288)"><rect class="basic label-container" style="" x="-107.5625" y="-63" width="215.125" height="126"/><g class="label" style="" transform="translate(-77.5625, -48)"><rect/><foreignObject width="155.125" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Get Fine Cell Data<br />idx = x + y<em>nx + z</em>nx*ny<br />cell = fine_cells[idx]<br />count ≤ 8192</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ObjectLoop-29" transform="translate(449.96875, 2428)"><rect class="basic label-container" style="" x="-92.609375" y="-27" width="185.21875" height="54"/><g class="label" style="" transform="translate(-62.609375, -12)"><rect/><foreignObject width="125.21875" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>For j = 0 to count</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ObjType-31" transform="translate(449.96875, 2606.5078125)"><polygon points="101.5078125,0 203.015625,-101.5078125 101.5078125,-203.015625 0,-101.5078125" class="label-container" transform="translate(-101.0078125, 101.5078125)"/><g class="label" style="" transform="translate(-74.5078125, -12)"><rect/><foreignObject width="149.015625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>obj_id &lt; num_boxes?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-IntersectBox-33" transform="translate(306.08203125, 2857.015625)"><rect class="basic label-container" style="" x="-130" y="-63" width="260" height="126"/><g class="label" style="" transform="translate(-100, -48)"><rect/><foreignObject width="200" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>INTERSECT_BOX<br />AABB slab method<br />Calculate normal from hit face</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-IntersectTriangle-35" transform="translate(593.85546875, 2857.015625)"><rect class="basic label-container" style="" x="-107.7734375" y="-75" width="215.546875" height="150"/><g class="label" style="" transform="translate(-77.7734375, -60)"><rect/><foreignObject width="155.546875" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>INTERSECT_TRIANGLE<br />Möller-Trumbore<br />Texture sampling<br />Alpha masking<br />Normal mapping</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-KeepClosest-37" transform="translate(449.96875, 3009.015625)"><rect class="basic label-container" style="" x="-86.8125" y="-27" width="173.625" height="54"/><g class="label" style="" transform="translate(-56.8125, -12)"><rect/><foreignObject width="113.625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Keep closest hit</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-EarlyExit-41" transform="translate(449.96875, 3174.4296875)"><polygon points="88.4140625,0 176.828125,-88.4140625 88.4140625,-176.828125 0,-88.4140625" class="label-container" transform="translate(-87.9140625, 88.4140625)"/><g class="label" style="" transform="translate(-49.4140625, -24)"><rect/><foreignObject width="98.828125" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>hit.distance &lt;<br />min(t_max)?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Shading-43" transform="translate(541.80859375, 3870.78125)"><rect class="basic label-container" style="" x="-71.375" y="-27" width="142.75" height="54"/><g class="label" style="" transform="translate(-41.375, -12)"><rect/><foreignObject width="82.75" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>2E: Shading</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-StepCell-45" transform="translate(589.08984375, 3435.84375)"><rect class="basic label-container" style="" x="-130" y="-99" width="260" height="198"/><g class="label" style="" transform="translate(-100, -84)"><rect/><foreignObject width="200" height="168"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Step to Next Cell<br />Choose axis with min(t_max)<br />current_cell[axis] += step[axis]<br />t_max[axis] += t_delta[axis]</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-BoundsCheck-48" transform="translate(699.59765625, 3689.3125)"><polygon points="80.46875,0 160.9375,-80.46875 80.46875,-160.9375 0,-80.46875" class="label-container" transform="translate(-79.96875, 80.46875)"/><g class="label" style="" transform="translate(-53.46875, -12)"><rect/><foreignObject width="106.9375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Cell in bounds?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Ambient-55" transform="translate(151.08203125, 4386.78125)"><rect class="basic label-container" style="" x="-80.3515625" y="-27" width="160.703125" height="54"/><g class="label" style="" transform="translate(-50.3515625, -12)"><rect/><foreignObject width="100.703125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Ambient = 0.3</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Diffuse-57" transform="translate(532.46875, 4386.78125)"><rect class="basic label-container" style="" x="-130" y="-63" width="260" height="126"/><g class="label" style="" transform="translate(-100, -48)"><rect/><foreignObject width="200" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Diffuse<br />max(dot(N, -light_dir), 0) * 0.7<br />light_dir = (0.5, -1.0, 0.3)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Emissive-59" transform="translate(842.9375, 3998.78125)"><rect class="basic label-container" style="" x="-130" y="-51" width="260" height="102"/><g class="label" style="" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Emissive Area Lights<br />For each triangle with emissive &gt; 0</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ShadowRay-61" transform="translate(842.9375, 4174.78125)"><rect class="basic label-container" style="fill:#ffcccc !important;stroke:#ff0000 !important;stroke-width:3px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>SHADOW RAY (BRUTE FORCE!)<br />Test ALL boxes O(N)<br />Test ALL triangles O(M)<br />No grid acceleration ⚠️</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-AreaLight-63" transform="translate(842.9375, 4386.78125)"><rect class="basic label-container" style="" x="-130" y="-87" width="260" height="174"/><g class="label" style="" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>area = 0.5 * |cross(edge1, edge2)|<br />attenuation = area * facing / (dist² + 1)<br />light += emissive * n_dot_l * attenuation</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-FinalColor-65" transform="translate(544.9921875, 4622.78125)"><rect class="basic label-container" style="" x="-130" y="-99" width="260" height="198"/><g class="label" style="" transform="translate(-100, -84)"><rect/><foreignObject width="200" height="168"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>surface_color = base_color *<br />  (ambient + diffuse + light)<br />accumulated += surface_color *<br />  (1 - reflectivity) * multiplier</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ReflectCheck-71" transform="translate(544.9921875, 4857.2734375)"><polygon points="85.4921875,0 170.984375,-85.4921875 85.4921875,-170.984375 0,-85.4921875" class="label-container" transform="translate(-84.9921875, 85.4921875)"/><g class="label" style="" transform="translate(-46.4921875, -24)"><rect/><foreignObject width="92.984375" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>reflectivity &lt;<br />0.01?</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Output-73" transform="translate(178.8125, 5091.765625)"><rect class="basic label-container" style="" x="-135.8125" y="-63" width="271.625" height="126"/><g class="label" style="" transform="translate(-105.8125, -48)"><rect/><foreignObject width="211.625" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>textureStore(output_texture,<br />  pixel_xy,<br />  vec4(accumulated_color, 1.0))</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-NextBounce-75" transform="translate(935.4375, 5091.765625)"><rect class="basic label-container" style="" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>multiplier *= reflectivity<br />ray.dir = reflect(ray.dir, normal)<br />ray.origin = hit_pos + normal * 0.001</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Display-80" transform="translate(178.8125, 5328.765625)"><rect class="basic label-container" style="" x="-97.4296875" y="-87" width="194.859375" height="174"/><g class="label" style="" transform="translate(-67.4296875, -72)"><rect/><foreignObject width="134.859375" height="144"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Display Pipeline<br />Render Pass<br />Fullscreen Triangle<br />Fragment Shader<br />↓<br />Swapchain</p></span></div></foreignObject></g></g></g></g></g></svg>